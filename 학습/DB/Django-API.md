ì œê³µëœ ë™ì˜ìƒ ê°•ì˜ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ë§ˆí¬ë‹¤ìš´(MD) íŒŒì¼ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

-----

# REST API

## ğŸ’» ëª©ì°¨

  * REST API
      * API
      * REST API
      * ìì›ì˜ ì‹ë³„
      * ìì›ì˜ í–‰ìœ„
      * ìì›ì˜ í‘œí˜„
      * JSON ë°ì´í„° ì‘ë‹µ

-----

## ğŸš€ í•™ìŠµ ì‹œì‘

ì˜¤ëŠ˜ì˜ í•™ìŠµ ëª©í‘œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

  * ì˜¤ëŠ˜ ì´ë ‡ê²Œ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë“¤ì´ ì„œë¡œ ì•½ì†ëœ ë°©ë²•ìœ¼ë¡œ ëŒ€í™”í•˜ëŠ” ë°©ì‹, **REST API**ë¥¼ ë°°ì›Œë³¼ ê±°ì˜ˆìš”.
  * ë³µì¡í•œ ì„¤ëª… ì—†ì´, ì£¼ì†Œë¥¼ ì •í•˜ê³ (**GET**), í–‰ë™ì„ ì„ íƒí•˜ê³ (**POST**, **DELETE**), ê²°ê³¼ë¥¼ ë°›ì•„ë³´ëŠ” ê²½í—˜ì„ í•  ìˆ˜ ìˆì–´ìš”.
  * ë‚´ê°€ ë§Œë“  ì„œë²„ê°€ ìŠ¤ë§ˆíŠ¸í° ì•±ì²˜ëŸ¼ ì‘ë‹µí•˜ë„ë¡ ë°”ê¿”ë³´ëŠ” ì‹¤ìŠµë„ í•¨ê»˜ ì§„í–‰í•´ë³¼ ê±°ì˜ˆìš”.

### ğŸ“ ì˜ˆì‹œ: ë°°ë‹¬ ì•±

1.  ë°°ë‹¬ ì•±ì´ **REST API**ë¥¼ í†µí•´ ê°€ê²Œì— ì£¼ë¬¸ ì •ë³´ë¥¼ ì „ë‹¬í•˜ê³ 
2.  ê°€ê²ŒëŠ” ê·¸ ì •ë³´ë¥¼ ë°›ì•„ì„œ **JSON** í˜•ì‹ìœ¼ë¡œ "ì£¼ë¬¸ í™•ì¸"ì„ ì‘ë‹µí•©ë‹ˆë‹¤.
3.  ìš°ë¦¬ëŠ” ì–´ë–¤ ë©”ë‰´ë¥¼ ì£¼ë¬¸í–ˆëŠ”ì§€ **GET** ìš”ì²­ìœ¼ë¡œ ë‹¤ì‹œ í™•ì¸í•  ìˆ˜ë„ ìˆì–´ìš”.

-----

## ğŸ§ ì´ë¡ 

### API (Application Programming Interface)

  * ì†Œí”„íŠ¸ì›¨ì–´ì™€ ì†Œí”„íŠ¸ì›¨ì–´ ê°„ ì§€ì •ëœ í˜•ì‹(í˜•ì‹)ìœ¼ë¡œ ì†Œí†µí•˜ëŠ” ìˆ˜ë‹¨ -\> **API**
  * "ì´ë ‡ê²Œ ìš”ì²­ì„ ë³´ë‚´ë©´, ì´ë ‡ê²Œ ì •ë³´ë¥¼ ì œê³µí•´ì¤„ ê²ƒì´ë‹¤"ë¼ëŠ” **ë§¤ë‰´ì–¼**
  * **ì˜ˆì‹œ**: ìŠ¤ë§ˆíŠ¸í°ì˜ ë‚ ì”¨ ì•±ì€ ê¸°ìƒì²­ì—ì„œ ì œê³µí•˜ëŠ” APIë¥¼ í†µí•´ ê¸°ìƒì²­ ì‹œìŠ¤í…œê³¼ ëŒ€í™”í•˜ì—¬ ë§¤ì¼ ìµœì‹  ë‚ ì”¨ ì •ë³´ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Web API

  * ì›¹ ì„œë²„ ë˜ëŠ” ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ìœ„í•œ API
  * í˜„ëŒ€ ì›¹ ê°œë°œì€ í•˜ë‚˜ë¶€í„° ì—´ê¹Œì§€ ì§ì ‘ ê°œë°œí•˜ê¸°ë³´ë‹¤ ì—¬ëŸ¬ **Open API**ë“¤ì„ í™œìš©í•©ë‹ˆë‹¤.
  * **ëŒ€í‘œì ì¸ Third Party Open API ì„œë¹„ìŠ¤ ëª©ë¡**
      * Youtube API
      * Google Map API
      * Naver Papago API
      * Kakao Map API

### REST API ì •ì˜

  * **REST (Representational State Transfer)**
  * API Serverë¥¼ ê°œë°œí•˜ê¸° ìœ„í•œ ì¼ì¢…ì˜ **ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ ë°©ë²•ë¡ **ì…ë‹ˆë‹¤.
  * ì—„ê²©í•œ ê·œì¹™ì„ ì˜ë¯¸í•˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.
  * APIë§ˆë‹¤ ì œê°ê° êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³ , ëˆ„êµ¬ë‚˜ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë°©ì‹ìœ¼ë¡œ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ ê¸°ì¤€ì„ ì œì•ˆí•œ ê²ƒì´ ë°”ë¡œ RESTì…ë‹ˆë‹¤.
  * **ì‹¤ì œ í™œìš© ì˜ˆì‹œ**: Naver Cloud API, Kakao Login API

-----

## 1\. ìì›ì˜ ì‹ë³„

### URI (Uniform Resource Identifier: í†µí•© ìì› ì‹ë³„ì)

  * ì¸í„°ë„·ì—ì„œ ë¦¬ì†ŒìŠ¤(ìì›)ë¥¼ ì‹ë³„í•˜ëŠ” ë¬¸ìì—´
  * ê°€ì¥ ì¼ë°˜ì ì¸ URIëŠ” ì›¹ ì£¼ì†Œë¡œ ì•Œë ¤ì§„ **URL**ì…ë‹ˆë‹¤.

### URL (Uniform Resource Locator: í†µí•© ìì› ìœ„ì¹˜)

  * URLì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì„± ìš”ì†Œë¥¼ ê°€ì§‘ë‹ˆë‹¤.
  * `Scheme://Authority(Domain Name:Port)/Path?Parameters#Anchor`
      * **Domain Name**: ìš”ì²­ ì¤‘ì¸ ì›¹ ì„œë²„ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. (ì˜ˆ: `google.com`)
      * **Path**: ì›¹ ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ ê²½ë¡œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. (ì˜ˆ: `/articles/create/`)
          * ì˜¤ëŠ˜ë‚ ì€ ì‹¤ì œ ë¬¼ë¦¬ì  ìœ„ì¹˜ê°€ ì•„ë‹Œ ì¶”ìƒí™”ëœ í˜•íƒœì˜ êµ¬ì¡°ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
      * **Anchor**: ì¼ì¢…ì˜ "ë¶ë§ˆí¬"ë¡œ, í•´ë‹¹ ì§€ì ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤. (ì˜ˆ: `#quick-install-guide`)
          * Anchor(fragment)ëŠ” ì„œë²„ì— ì „ë‹¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

-----

## 2\. ìì›ì˜ í–‰ìœ„

### HTTP Request Methods

  * ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ **í–‰ìœ„**, ì¦‰ **ìˆ˜í–‰í•˜ê³ ì í•˜ëŠ” ë™ì‘**ì„ ì •ì˜í•©ë‹ˆë‹¤.
  * "ì´ ì£¼ì†Œë¡œ ë¬¼ê±´ ì¢€ ë³´ë‚´ì£¼ì„¸ìš”" â†’ **POST** (ìƒì„±)
  * "ë°©ê¸ˆ ë³´ë‚¸ ë¬¼ê±´ ë„ì°©í–ˆë‚˜ìš”?" â†’ **GET** (ì¡°íšŒ)
  * "ê·¸ ë¬¼ê±´ ì·¨ì†Œí• ê²Œìš”" â†’ **DELETE** (ì‚­ì œ)
  * "ë°›ëŠ” ì‚¬ëŒ ì „í™”ë²ˆí˜¸ ë°”ë€Œì—ˆì–´ìš”" â†’ **PUT** (ìˆ˜ì •)

### HTTP response status codes

  * íŠ¹ì • HTTP ìš”ì²­ì´ **ì„±ê³µì **ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìˆ«ìì…ë‹ˆë‹¤.
  * í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ì½”ë“œë¥¼ ë³´ê³  ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚¬ëŠ”ì§€ íŒë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

-----

## 3\. ìì›ì˜ í‘œí˜„

  * ê·¸ë™ì•ˆ DjangoëŠ” ì‚¬ìš©ìì—ê²Œ \*\*page(html)\*\*ë§Œ ì‘ë‹µí•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
  * í•˜ì§€ë§Œ ì„œë²„ëŠ” í˜ì´ì§€ë¿ë§Œ ì•„ë‹ˆë¼ **ë‹¤ì–‘í•œ ë°ì´í„° íƒ€ì…**ì„ ì‘ë‹µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  * REST API ì¤‘ì—ì„œëŠ” **JSON** íƒ€ì…ìœ¼ë¡œ ì‘ë‹µí•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

### JSON (JavaScript Object Notation)

  * ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•œ **ìµœì†Œí•œì˜ í˜•ì‹**ì…ë‹ˆë‹¤.
  * ì–´ë–¤ í´ë¼ì´ì–¸íŠ¸ì™€ë„ ì–¸ì–´ì™€ í”Œë«í¼ì— **ë…ë¦½ì **ìœ¼ë¡œ í†µì‹ í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.
  * ì„œë²„ëŠ” HTML í˜ì´ì§€ë¥¼ ë§Œë“¤ì§€ ì•Šê³ , **JSON ë°ì´í„°ë§Œ ì‘ë‹µ**í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  * HTML ëŒ€ì‹  JSONë§Œ ì „ë‹¬í•˜ë¯€ë¡œ, **ì‘ë‹µ ìš©ëŸ‰ì´ ì¤„ê³  ì²˜ë¦¬ ì†ë„ê°€ ë¹¨ë¼ì§‘ë‹ˆë‹¤.**

### Fixtures (ì‹¤ìŠµ ë°ì´í„°)

  * ì´ˆê¸° ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•œ JSON í˜•ì‹ì˜ ë°ì´í„° íŒŒì¼ì…ë‹ˆë‹¤.
  * ì‹¤ìŠµìš© ë°ì´í„° ì…ë ¥ ëª…ë ¹ì–´:
    ```bash
    $ python manage.py loaddata articles.json
    Installed 20 object(s) from 1 fixture(s)
    ```

-----

## ğŸš€ Django REST Framework (DRF)

### í”„ë¡œì íŠ¸ ì¤€ë¹„ (ì‹¤ìŠµ)

1.  ì‚¬ì „ ì œê³µëœ `drf` í”„ë¡œì íŠ¸ ê¸°ë°˜ ì‹œì‘
2.  ê°€ìƒ í™˜ê²½ ìƒì„± ë° íŒ¨í‚¤ì§€ ì„¤ì¹˜
3.  `migrate` ì§„í–‰
    ```bash
    $ python manage.py migrate
    ```
4.  `fixtures` ë¡œë“œí•˜ì—¬ ì‹¤ìŠµìš© ë°ì´í„° ì…ë ¥
    ```bash
    $ python manage.py loaddata articles.json
    ```

### Serialization (ì§ë ¬í™”)

  * ì—¬ëŸ¬ ì‹œìŠ¤í…œì—ì„œ í™œìš©í•˜ê¸° ìœ„í•´ ë°ì´í„° êµ¬ì¡°ë‚˜ ê°ì²´ ìƒíƒœ(ì˜ˆ: Python ê°ì²´)ë¥¼ **ì¬êµ¬ì„±í•  ìˆ˜ ìˆëŠ” í¬ë§·(ì˜ˆ: JSON)ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •**ì…ë‹ˆë‹¤.
  * ì´ ë³€í™˜ ê³¼ì •ì€ **Serializer Class**ê°€ ë‹´ë‹¹í•˜ë©°, `serializers.py` íŒŒì¼ì— ì‘ì„±í•©ë‹ˆë‹¤.

-----

## ğŸ› ï¸ CRUD with ModelSerializer

### 1\. GET (ì¡°íšŒ)

  * **List (ì „ì²´ ì¡°íšŒ)**

      * `# articles/views.py`
        ```python
        @api_view(['GET'])
        def article_list(request):
            articles = Article.objects.all()
            serializer = ArticleListSerializer(articles, many=True)
            return Response(serializer.data)
        ```
      * **`many=True`** ì˜µì…˜: ì§ë ¬í™” ëŒ€ìƒì´ QuerySet(ì—¬ëŸ¬ ê°œ)ì¸ ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.

  * **Detail (ë‹¨ì¼ ì¡°íšŒ)**

      * `# articles/serializers.py`
        ```python
        class ArticleSerializer(serializers.ModelSerializer):
            class Meta:
                model = Article
                fields = '__all__'
        ```

### 2\. POST (ìƒì„±)

  * `article_list` í•¨ìˆ˜ì— `POST` ë©”ì„œë“œ ë¶„ê¸° ì²˜ë¦¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
  * `# articles/views.py`
    ```python
    elif request.method == 'POST':
        serializer = ArticleSerializer(data=request.data)
        if serializer.is_valid():
            serializer.save()
            return Response(serializer.data, status=status.HTTP_201_CREATED)
        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)
    ```

### 3\. DELETE (ì‚­ì œ)

  * ì¼ë°˜ì ìœ¼ë¡œ DELETE ìš”ì²­ì€ \*\*`204 No Content`\*\*ë¡œ ë³¸ë¬¸(Body) ì—†ì´ ì‘ë‹µí•˜ëŠ” ê²ƒì´ RESTful í•œ ì„¤ê³„ ë°©ì‹ì…ë‹ˆë‹¤.
  * **TIP**: ë§Œì•½ ì‚­ì œëœ ë°ì´í„°ë¥¼ í™•ì¸í•˜ëŠ” ë“± ì‘ë‹µì´ í•„ìš”í•œ ê²½ìš°, `204` ëŒ€ì‹  `200 OK` ì½”ë“œì™€ í•¨ê»˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 4\. PUT (ìˆ˜ì • - ì „ì²´)

  * `PUT`ì€ ë¦¬ì†ŒìŠ¤ì˜ **ì „ì²´**ë¥¼ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
  * `# articles/views.py` (article\_detail í•¨ìˆ˜ ë‚´)
    ```python
    elif request.method == 'PUT':
        serializer = ArticleSerializer(article, data=request.data)
        if serializer.is_valid(raise_exception=True):
            serializer.save()
            return Response(serializer.data)
        # raise_exception=Trueë¡œ ì¸í•´ 400 ì‘ë‹µì€ ìë™ ì²˜ë¦¬ë¨
    ```
  * `is_valid(raise_exception=True)`: ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ì‹œ `ValidationError` ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ê³ , DRFê°€ ìë™ìœ¼ë¡œ `HTTP 400` ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤.

### 5\. PATCH (ìˆ˜ì • - ì¼ë¶€)

  * `PATCH`ëŠ” ë¦¬ì†ŒìŠ¤ì˜ **ì¼ë¶€ë§Œ** ìˆ˜ì •í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
  * Serializerë¥¼ ìƒì„±í•  ë•Œ **`partial=True`** ì†ì„±ì„ ì„¤ì •í•©ë‹ˆë‹¤.
  * `# articles/views.py` (article\_detail í•¨ìˆ˜ ë‚´)
    ```python
    elif request.method == 'PATCH':
        serializer = ArticleSerializer(article, data=request.data, partial=True)
        if serializer.is_valid(raise_exception=True):
            serializer.save()
            return Response(serializer.data)
    ```
```python
# ìµœì¢…ì½”ë“œ
from rest_framework.decorators import api_view
from rest_framework.response import Response
from rest_framework import status

from .models import Article
from .serializers import ArticleListSerializer, ArticleSerializer

@api_view(['GET', 'POST'])
def article_list(request):
    if request.method == 'GET':
        articles = Article.objects.all()
        serializer = ArticleListSerializer(articles, many=True)
        return Response(serializer.data)
    
    elif request.method == 'POST':
        serializer = ArticleSerializer(data=request.data)
        if serializer.is_valid():
            serializer.save()
            return Response(serializer.data, status=status.HTTP_201_CREATED)
        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)
    

@api_view(['GET', 'DELETE', 'PATCH'])
def article_detail(request, article_pk):
    
    article = Article.objects.get(pk=article_pk)
    if request.method == 'GET': 
        serializer = ArticleSerializer(article)
        return Response(serializer.data)
    
    elif request.method == 'DELETE':
        article.delete()
        return Response(status=status.HTTP_204_NO_CONTENT)
    
    elif request.method == 'PATCH':
        serializer = ArticleSerializer(article, data=request.data, partial=True)
        if serializer.is_valid():
            serializer.save()
            return Response(serializer.data)
        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)
```
-----

## ğŸ ìš”ì•½ ì •ë¦¬

  * **API**: ì„œë¡œ ë‹¤ë¥¸ ì†Œí”„íŠ¸ì›¨ì–´ ê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤.
  * **REST API**: ìì›ì„ **URI**ë¡œ ì‹ë³„í•˜ê³  **HTTP ë©”ì„œë“œ**ë¡œ í–‰ìœ„ë¥¼ ì •ì˜í•˜ë©° **JSON** ë“±ìœ¼ë¡œ ìì›ì„ í‘œí˜„í•˜ëŠ” ì„¤ê³„ ë°©ì‹.
  * **ìì›ì˜ ì‹ë³„**: URI (ì˜ˆ: `/articles/1/`)
  * **ìì›ì˜ í–‰ìœ„**: HTTP Methods (GET, POST, PUT, DELETE, PATCH)
  * **ìì›ì˜ í‘œí˜„**: JSON
  * **Serialization**: Python ê°ì²´(QuerySet ë“±)ë¥¼ JSON ë“± ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ í†µì‹  ê°€ëŠ¥í•œ í˜•íƒœë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •.
  * **Django (DRF)**: DRFë¥¼ ì‚¬ìš©í•˜ë©´ JSON ê¸°ë°˜ì˜ RESTful APIë¥¼ ë¹ ë¥´ê³  ì‰½ê²Œ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.