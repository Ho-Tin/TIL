제공해주신 동영상의 내용을 바탕으로 웹 크롤링 교육 자료를 마크다운(Markdown) 형식으로 정리해 드립니다. 요청하신 대로 코드 내용은 요약 없이 상세히 포함했습니다.

---

# 데이터 수집 - Web Crawling

## 1. 웹 크롤링의 구조와 이해

### 웹 크롤링이란?

* **크롤링 (Crawling):** 인터넷상의 웹 페이지를 자동으로 탐색하고 데이터를 수집하는 기술.
* **스크래핑 (Scraping):** 특정 웹 페이지에서 원하는 데이터(텍스트, 이미지, 표 등)를 추출하는 과정.

### 웹 데이터 수집 방법

1. **웹 페이지를 가져와서 필요한 정보만 추출하기 (스크래핑):** 정적인 페이지 분석에 주로 사용.
2. **WebDriver를 이용해 웹 브라우저 자동화하기 (스크래핑 및 크롤링):** 브라우저를 직접 제어하여 동적인 페이지 수집 가능.
3. **제공된 OpenAPI를 이용해 실시간으로 데이터 가져오기.**

---

## 2. 웹 페이지의 구조와 이해

### 웹 페이지의 구조

* 웹 페이지는 **HTML, CSS, JavaScript**의 조합으로 구성됩니다.
* **HTML (HyperText Markup Language):** 웹 페이지의 뼈대를 만드는 필수 언어로, 제목, 단락, 목록 등 구조적 문서를 만드는 방법을 제공합니다.
* **CSS (Cascading Style Sheets):** HTML 요소의 외관(디자인)을 담당합니다.
* **데이터 파싱 (Parsing):** 웹 페이지에서 HTML 내용을 가져오고, 그 안에서 원하는 데이터가 어디 있는지 파악하여 원하는 형태로 가공하는 작업.

### HTML 기본 구성 요소

HTML 태그는 다음과 같은 구조를 가집니다.

* **Opening Tag:** `<p>` (시작 태그)
* **Content:** `Hyper Text Markup Language` (내용)
* **Closing Tag:** `</p>` (종료 태그)
* **Element:** 위 전체를 합쳐서 요소(Element)라고 부름.

### HTML 문서 구조

```html
<html>
    <head>
        <title>Test홈페이지</title> </head>
    <body>
        환영합니다 </body>
</html>

```

### HTML 태그와 속성 (Attribute)

* 태그에 추가적인 정보를 부여할 때 속성을 사용합니다.
* 속성은 이름(key)과 값(value)으로 구성됩니다.
* 예: `<div id="skipNav">`, `<html lang="ko">`



### CSS 선택자 (Selector)

데이터를 찾을 때 HTML 요소를 특정하기 위해 CSS 선택자를 이해해야 합니다.

**1. 타입 선택자 (Type Selector)**
특정 태그 전체에 스타일을 적용합니다.

```css
p {
    color : red ;
}

```

**2. 클래스 선택자 (Class Selector)**
특정 클래스 속성을 가진 요소에 스타일을 적용합니다. (`.`으로 시작)

```css
.item {
    color : yellow ;
}

```

---

## 3. BeautifulSoup의 활용

BeautifulSoup은 HTML 정보를 분석하고 파싱하는 파이썬 라이브러리입니다.

### 기본 활용

HTML 문서를 해석하여 `bs` 객체로 만들면 태그 이름으로 정보에 접근할 수 있습니다.

```python
# 예시: title 태그의 내용 출력
print(bs.title)
# 결과: <title>식단 - 서울대학교 생활협동조합</title>

```

### 요소 검색 및 추출

원하는 데이터의 위치를 파악하기 위해 `select()` 메서드를 주로 사용합니다.

**활용 예시 (점심 메뉴 찾기):**
HTML 구조가 `<td class="lunch">` 내부에 메뉴 텍스트가 있다고 가정할 때:

```python
# 'td' 태그이면서 클래스가 'lunch'인 요소를 선택
bs.select('td.lunch')

```

### BeautifulSoup `select` 문법 정리

| 코드 패턴 | 의미 |
| --- | --- |
| `bs.select('태그명')` | 해당 태그를 모두 선택 |
| `bs.select('.class')` | 해당 클래스를 가진 모든 요소 선택 |
| `bs.select('#id')` | 해당 ID를 가진 요소 선택 (문서 내 유일) |
| `bs.select('상위태그 > 하위태그')` | 부모 바로 아래에 있는 자식 태그 선택 |
| `bs.select('상위태그 하위태그')` | 상위 태그 내부의 모든 자손 태그 선택 (깊이 무관) |
| `bs.select('태그명.class')` | 해당 태그이면서 특정 클래스를 가진 요소 선택 |
| `bs.select('태그명[속성="값"]')` | 특정 속성값을 가진 태그 선택 |

---

## 4. Selenium의 활용

Selenium은 웹 브라우저를 직접 조작(제어)하는 도구입니다. JavaScript로 렌더링되는 동적 페이지를 크롤링할 때 필수적입니다.

### Element 대상 Action (요소 조작)

찾은 요소(`element`)에 대해 수행할 수 있는 동작들입니다.
| Action 메서드 | 의미 |
| :--- | :--- |
| `click()` | 버튼, 링크 등 요소 클릭 |
| `send_keys()` | 입력창(input)에 텍스트 입력 |
| `clear()` | 입력창 내용 삭제 |
| `submit()` | form 전송 |
| `get_attribute()` | 요소의 속성값 조회 |
| `text` | 요소에 표시된 텍스트 추출 |

### Browser 대상 Action (브라우저 제어)

브라우저 자체의 상태를 변경하는 동작들입니다.
| Action 메서드 | 의미 |
| :--- | :--- |
| `get(url)` | 지정한 URL로 이동 |
| `back()` | 이전 페이지로 이동 |
| `forward()` | 다음 페이지로 이동 |
| `refresh()` | 현재 페이지 새로고침 |
| `close()` | 현재 브라우저 창 닫기 |
| `quit()` | 전체 브라우저 종료 |

### WebDriverWait (대기 전략)

웹 페이지가 로딩되거나 특정 요소가 나타날 때까지 기다려주는 기능입니다. 네트워크 속도나 렌더링 시간에 따른 오류를 방지합니다.

**기본 설정 코드:**

```python
# 브라우저 실행
driver = webdriver.Chrome()

# 명시적 대기: 요소가 나타날 때까지 최대 10초 대기
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

wait = WebDriverWait(driver, 10)

```

**조건부 대기 및 실행 코드:**

```python
# 1. 'search_box'라는 변수에 요소가 담길 때까지 기다림
# 조건: ID가 "query"인 요소가 DOM에 존재할 것 (presence_of_element_located)
search_box = WebDriverWait(driver, 10).until(
    EC.presence_of_element_located((By.ID, "query"))
)

# 2. 요소가 찾아지면 키 입력 수행
search_box.send_keys("파이썬")

```

**주요 ExpectedConditions (EC) 조건:**

* `presence_of_element_located`: 요소가 DOM에 존재하는지 확인 (화면에 안 보여도 됨).
* `visibility_of_element_located`: 요소가 화면에 보이는지 확인.
* `element_to_be_clickable`: 클릭 가능한 상태인지 확인.
* `url_contains`: URL에 특정 문자열이 포함되어 있는지 확인.