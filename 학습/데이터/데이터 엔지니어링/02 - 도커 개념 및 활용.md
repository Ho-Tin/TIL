제공해주신 동영상은 **삼성청년 SW·AI 아카데미(SSAFY)**의 데이터 엔지니어링 교육 과정 중 **'도커(Docker) 개념 및 활용'**에 대한 강의 자료입니다.

요청하신 대로 동영상의 내용을 분석하여 마크다운(MD) 형식으로 정리해 드립니다. 코드 부분은 요약 없이 슬라이드에 나온 내용을 그대로 작성했습니다.

---

# 도커(Docker) 개념 및 활용

## 1. 개요 및 챕터 포인트

* 컨테이너와 도커의 개념
* Docker Desktop 설치
* Docker 기본 명령어
* Docker compose 실습

## 2. 컨테이너 기술과 도커 개요

### 도커(Docker)란?

* 애플리케이션을 **컨테이너**라는 가볍고 독립적인 환경에서 실행할 수 있도록 도와주는 오픈소스 가상화 플랫폼.
* 외부 환경과 격리된 상태에서 애플리케이션이 환경에 영향받지 않고 실행될 수 있도록 하는 소프트웨어.
* 컨테이너를 생성하고 관리하는 데 필요한 엔진과 명령줄 도구(CLI)로 구성됨.

### 컨테이너의 필요성

1. **환경 차이 없이 어디서든 실행 가능**
* 개발 PC, 테스트 서버, 클라우드 등 어떤 환경에서도 동일하게 동작.


2. **설치/설정 충돌 방지**
* 여러 앱이 공존할 수 있는 안전한 격리 공간 제공.


3. **빠른 실행과 이식성**
* 가상머신(VM)보다 훨씬 빠르게 실행되고 리소스도 적게 사용함.



### Docker Architecture (아키텍처)

* **DOCKER_HOST**: Docker daemon이 실행되며, Containers와 Images를 관리.
* **Client**: 사용자가 명령어를 입력하는 곳 (예: `docker build`, `docker pull`, `docker run`).
* **Registry**: 이미지가 저장되는 공간 (예: Docker Hub).

### 핵심 구성 요소

1. **객체 (Docker Objects)**
* **Image (이미지)**: 컨테이너를 만들기 위한 읽기 전용 템플릿 (설계도 역할).
* **Container (컨테이너)**: 이미지를 실제로 실행한 실체.
* **Service (서비스)**: 여러 개의 컨테이너를 묶어 하나의 서비스처럼 운영 (Docker Swarm, k8s 등).


2. **레지스트리 (Docker Registry)**
* 이미지를 저장하고 공유할 수 있는 중앙 저장소.
* 대표적인 예: **Docker Hub**.
* `docker pull`로 이미지를 다운로드하고, `docker push`로 업로드 가능.



### Dockerfile, Image, Container의 관계

* **Dockerfile**: 빌드(`build`) 명령을 통해 이미지를 생성하는 설정 파일.
* **Docker Image**: OS(Ubuntu 등), 소스코드, 의존성, 환경변수, 실행 명령어 등이 포함된 정적인 파일.
* **Docker Container**: 이미지를 통해 생성(`run`)된 애플리케이션 실행 환경 (메모리 상에서 실행 중인 프로세스).

---

## 3. Docker 환경 설정 및 실습

### Docker Desktop 설치

* Windows/Mac 환경에서 Docker를 사용하기 위한 GUI 도구.
* 회원가입 및 로그인 후 설치 진행 (Subscription Service Agreement 동의 필요).
* 설치 후 터미널(WSL 등)과 연동 설정.

### Python 환경 설정 실습 (Dockerfile 작성)

Python 환경을 도커 안에서 독립적으로 구성하는 예제입니다.

#### **1. `requirements.txt` 구성**

```text
pandas
matplotlib

```

#### **2. `Dockerfile` 작성**

```dockerfile
# [Dockerfile]
FROM python:3.10-slim

WORKDIR /app

COPY requirements.txt .

RUN pip install --upgrade pip && pip install -r requirements.txt

COPY app.py .

CMD ["python", "app.py"]

```

* `FROM`: 베이스 이미지 지정 (Python 3.10 slim 버전).
* `WORKDIR`: 작업 디렉토리 설정 (`/app`).
* `COPY`: 호스트의 파일을 컨테이너 내부로 복사.
* `RUN`: 컨테이너 빌드 시 실행할 명령어 (라이브러리 설치).
* `CMD`: 컨테이너 시작 시 실행할 명령어.

#### **3. Docker Container 실행 명령어**

```bash
docker run -it --name pycheck python-lab

```

* `docker run`: 컨테이너를 실행하는 명령어.
* `-it`: 터미널 입력을 위한 옵션 (Interactive + TTY).
* `--name pycheck`: 컨테이너의 이름을 'pycheck'로 설정.
* `python-lab`: 실행할 이미지 이름.

#### **4. 컨테이너 상태 확인**

```bash
docker ps -a

```

* 실행 중이거나 종료된 모든 컨테이너 목록 확인.

---

## 4. Docker 기본 명령어

### 이미지 관련 명령어

| 명령어 | 설명 |
| --- | --- |
| `docker search [이름]` | Docker Hub에서 이미지 검색 |
| `docker pull [이미지명]` | 이미지 다운로드 |
| `docker images` | 로컬 이미지 목록 확인 |
| `docker rmi [이미지ID/이름]` | 이미지 삭제 |
| `docker tag [기존이름] [새이름]` | 이미지에 별칭(tag) 붙이기 |
| `docker build -t [이미지이름] .` | 현재 디렉토리의 Dockerfile로 이미지 생성 |

### 컨테이너 내부 다루기 명령어

| 명령어 | 설명 |
| --- | --- |
| `docker exec [이름] [명령]` | 실행 중인 컨테이너에 명령어 실행 |
| `docker exec -it [이름] bash` | 컨테이너 내부 쉘로 접속 |
| `docker cp [파일] [컨테이너]:[경로]` | 컨테이너에 파일 복사 |
| `docker container stats [이름]` | 컨테이너 리소스 사용량 확인 |

---

## 5. Docker Compose 실습

### Docker Compose란?

* 여러 개의 컨테이너를 프로젝트처럼 정의하고 관리할 수 있게 해주는 도구.
* `YAML` 파일 하나로 한 번에 컨테이너들을 실행, 관리, 종료할 수 있음.

### `docker-compose.yml` 파일 구성

Nginx 웹 서버와 Mongo 데이터베이스를 함께 띄우는 예제입니다.

```yaml
services:
  web:
    image: nginx
    ports:
      - "8080:80"
    volumes:
      - ./index.html:/usr/share/nginx/html/index.html
  db:
    image: mongo
    ports:
      - "27017:27017"

```

### Docker Compose 주요 개념

* **Services**: 실행할 컨테이너들을 정의 (위 예제에서는 `web`, `db`).
* **Ports**: 호스트와 컨테이너 간의 포트 연결 (`"호스트포트:컨테이너포트"`).
* **Volumes**: 데이터 영속성을 위해 호스트의 파일/폴더를 컨테이너와 공유.
* **Networks**: 기본적으로 `docker-compose` 내의 서비스들은 동일한 네트워크를 공유하여 서로 통신 가능 (`web` 서비스에서 `db`라는 호스트 이름으로 DB 접근 가능).

### Docker Compose 명령어

```bash
# Docker Compose 실행 (백그라운드 실행 시 -d 옵션 사용)
docker compose up

# 현재 Compose 프로젝트에서 실행 중인 컨테이너 목록 표시
docker compose ps

# 정의된 모든 서비스(컨테이너)를 종료하고 정리 (네트워크 포함)
docker compose down

```

### 실습 결과 확인

* 브라우저에서 `localhost:8080`으로 접속 시 `index.html` 내용 확인 가능.
* 만약 `docker compose down`으로 종료하면 사이트에 연결할 수 없음.